(()=>{var r=require("three");class z extends r.Object3D{constructor(l=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=l,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new r.Vector2(.5,.5),this.addEventListener("removed",function(){this.traverse(function(s){s.element instanceof Element&&s.element.parentNode!==null&&s.element.parentNode.removeChild(s.element)})})}copy(l,s){return super.copy(l,s),this.element=l.element.cloneNode(!0),this.center=l.center,this}}const a=new r.Vector3,S=new r.Matrix4,v=new r.Matrix4,w=new r.Vector3,M=new r.Vector3;class D{constructor(l={}){const s=this;let h,m,f,p;const x={objects:new WeakMap},d=l.element!==void 0?l.element:document.createElement("div");d.style.overflow="hidden",this.domElement=d,this.getSize=function(){return{width:h,height:m}},this.render=function(e,t){e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.matrixWorldAutoUpdate===!0&&t.updateMatrixWorld(),S.copy(t.matrixWorldInverse),v.multiplyMatrices(t.projectionMatrix,S),y(e,e,t),_(e)},this.setSize=function(e,t){h=e,m=t,f=h/2,p=m/2,d.style.width=e+"px",d.style.height=t+"px"};function y(e,t,i){if(e.isCSS2DObject){a.setFromMatrixPosition(e.matrixWorld),a.applyMatrix4(v);const n=e.visible===!0&&a.z>=-1&&a.z<=1&&e.layers.test(i.layers)===!0;if(e.element.style.display=n===!0?"":"none",n===!0){e.onBeforeRender(s,t,i);const u=e.element,c=e.userData.zoom||1;u.style.transform="translate("+-100*e.center.x+"%,"+-100*e.center.y+"%)translate("+(a.x*f+f)+"px,"+(-a.y*p+p)+"px)scale("+c+", "+c+")",u.parentNode!==d&&d.appendChild(u),e.onAfterRender(s,t,i)}const o={distanceToCameraSquared:O(i,e)};x.objects.set(e,o)}for(let n=0,o=e.children.length;n<o;n++)y(e.children[n],t,i)}function O(e,t){return w.setFromMatrixPosition(e.matrixWorld),M.setFromMatrixPosition(t.matrixWorld),w.distanceToSquared(M)}function C(e){const t=[];return e.traverse(function(i){i.isCSS2DObject&&t.push(i)}),t}function _(e){const t=C(e).sort(function(n,o){if(n.renderOrder!==o.renderOrder)return o.renderOrder-n.renderOrder;const u=x.objects.get(n).distanceToCameraSquared,c=x.objects.get(o).distanceToCameraSquared;return u-c}),i=t.length;for(let n=0,o=t.length;n<o;n++)t[n].element.style.zIndex=i-n}}}})();
