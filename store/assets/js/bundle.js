"use strict";var shopData={},fragment=document.createDocumentFragment();window.addEventListener("DOMContentLoaded",initApp);
"use strict";var _moment=_interopRequireDefault(require("moment")),_jquery=_interopRequireDefault(require("jquery")),_slickCarousel=_interopRequireDefault(require("slick-carousel"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==l.return||l.return()}finally{if(n)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,n,o=!0,i=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){i=!0,n=t},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function initApp(){fetch("./assets/json/data.json").then(function(t){return t.json()}).then(function(t){return parseJsonData(t)}).then(function(){return loadCategories()}).then(function(){reloadProductsOfCategoryOrFilter()||loadNewProducts()}).then(function(){return loadTopProducts(8)}).then(function(){return addListeners()}).then(function(){return loadCart()}).catch(function(t){return console.log(t)})}function addListeners(){var t=getElement(".shop__content"),e=getElement(".cart-products-table"),r=getElement('input[name="keywords"]'),a=document.querySelectorAll(".logo"),n=getElement('select[name="dropdownSort"]');t.addEventListener("click",function(t){shopHandler(t)}),e.addEventListener("click",function(t){cartHandler(t)});var o=getElement(".cart");o.addEventListener("mouseenter",function(){showCart(!0)}),o.addEventListener("mouseleave",function(){showCart(!1)}),r.addEventListener("keyup",function(){findProductWithNameHandler(r.value)}),n.addEventListener("change",sortHandler);var i,l=_createForOfIteratorHelper(a);try{for(l.s();!(i=l.n()).done;){i.value.addEventListener("click",function(){removeFilter(),resetCategoryActiveStatus(),loadNewProducts()})}}catch(t){l.e(t)}finally{l.f()}}function loadCategories(){var e=getDataFromLS("selectedCategory"),t=document.querySelector(".categories-list");Object.keys(shopData).forEach(function(t){t=t[0].toUpperCase()+t.slice(1),e&&t.toLowerCase()===e?creatHtmlElement(fragment,t,"li",["category","category-active"]):creatHtmlElement(fragment,t,"li",["category"])}),t.appendChild(fragment),t.addEventListener("click",function(t){categoriesHandler(t)})}function loadProducts(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length?arguments[3]:void 0,n=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=document.querySelector(".shop__content");n&&(o.innerHTML=""),o.dataset.category=e,a&&creatPage(Math.ceil(t.length/9));for(var i=r+8,l=sortProducts(t);r<=i;r++)if(l[r]){var c=creatProduct(l[r]).creatProductCard();fragment.appendChild(c)}o.appendChild(fragment)}function doActionWithProduct(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=getProduct(e.dataset.id,e.dataset.category),n=loadCartProductsFromLS(),o=n.filter(function(t){return t.id===e.dataset.id})[0];if(o){switch(t){case"increase":0<r?o.buyQuantity=r:o.buyQuantity+=1;break;case"decrease":--o.buyQuantity}addCartProductsToLS(n)}else a.buyQuantity=0<r?r:1,addCartProductsToLS(a)}function createFilter(i){var l=getObjWithNamedArraysOfAllValuesFromProductsSpecificProps(shopData[i]),t=document.querySelector("aside");removeFilter();var e=creatHtmlElement(t,"","div",["filter"]);creatHtmlElement(e,"","div",["filter-reset-info"]);for(var r=creatHtmlElement(e,"","ul",["filter-list"]),a=0,n=Object.keys(l);a<n.length;a++){var c=n[a],o=c.charAt(0).toUpperCase()+c.split(/(?=[A-Z])/).join(" ").slice(1);creatHtmlElement(r,o,"li",["filter-list__item-title"]);var u=creatHtmlElement(r,"","li",["filter-list__item"]),s=l[c].filter(function(t,e,r){return r.indexOf(t)===e});if("price"!==c){s.sort();var d,m=creatHtmlElement(u,"","ul",["filter-list__sublist"]),f=_createForOfIteratorHelper(s);try{var p=function(){var e=d.value,t=creatHtmlElement(m,"","li",["filter-list__sublist-item"]),r=creatHtmlElement(t,"","input",["filter-checkbox"]);r.setAttribute("type","checkbox"),r.setAttribute("id",e),r.setAttribute("data-filter-category",i),r.setAttribute("data-filter-option",c),r.setAttribute("data-filter-option-value",e);var a=creatHtmlElement(t,e,"label",["filter-label"]);a.setAttribute("for",e);var n=0;l[c].forEach(function(t){t===e&&n++});var o=creatHtmlElement("","  (".concat(n,")"),"span",["filter-span-num"]);a.after(o)};for(f.s();!(d=f.n()).done;)p()}catch(t){f.e(t)}finally{f.f()}}else{var v=creatHtmlElement(u,"","form",["filter-price-form"]),g=creatHtmlElement(v,"","input",["filter-input-number"]);g.setAttribute("type","number"),g.setAttribute("name","priceFrom"),g.setAttribute("data-filter-price-min",Math.min.apply(Math,_toConsumableArray(s))),g.setAttribute("value",Math.min.apply(Math,_toConsumableArray(s)));var y=creatHtmlElement(""," — ","span",["span-divider"]);g.after(y);var b=creatHtmlElement(v,"","input",["filter-input-number"]);b.setAttribute("type","number"),b.setAttribute("name","priceTo"),b.setAttribute("data-filter-price-max",Math.max.apply(Math,_toConsumableArray(s))),b.setAttribute("value",Math.max.apply(Math,_toConsumableArray(s)));var h=creatHtmlElement(v,"","input",["filter-price-range-btn"]);h.setAttribute("type","button"),h.setAttribute("value","OK"),h.setAttribute("name","priceRangeOkBtn"),h.setAttribute("data-filter-category",i),h.setAttribute("data-filter-option",c)}}e.addEventListener("click",filterHandler)}function getObjWithNamedArraysOfAllValuesFromProductsSpecificProps(t){var e,r={},a=_createForOfIteratorHelper(t);try{for(a.s();!(e=a.n()).done;)for(var n=e.value,o=0,i=Object.keys(n);o<i.length;o++){var l=i[o];if("price"===l&&(checkFilterPropForSpecificValuesArr(r,l),r[l].push(n[l])),"specs"===l)for(var c=0,u=Object.keys(n[l]);c<u.length;c++){var s=u[c];checkFilterPropForSpecificValuesArr(r,s),r[s].push(n[l][s])}}}catch(t){a.e(t)}finally{a.f()}return r}function checkFilterPropForSpecificValuesArr(t,e){t[e]||(t[e]=[])}function filterHandler(e){var t=getDataFromLS("filterOptions");if(t=t||[],e.target.matches(".filter-checkbox")&&e.target.checked){var r=createFilterInputObj(e.target.dataset.filterCategory,e.target.dataset.filterOption,e.target.dataset.filterOptionValue);t.push(r),setDataToLS("filterOptions",t);var a=filterProductsFromSpecificCategory(r.category,t);return localStorage.removeItem("selectedPage"),void loadProducts(a,r.category,0,!0)}if(e.target.matches(".filter-checkbox")&&!e.target.checked){var n=t.findIndex(function(t){return t.filterOptionValue===e.target.dataset.filterOptionValue});if(0<=n){t.splice(n,1),setDataToLS("filterOptions",t);var o=filterProductsFromSpecificCategory(e.target.dataset.filterCategory);return o.length||(o=shopData[e.target.dataset.filterCategory],cleanFilterLS(),removeFilterResetBtn()),localStorage.removeItem("selectedPage"),void loadProducts(o,e.target.dataset.filterCategory,0,!0)}}if(e.target.matches(".filter-price-range-btn")){var i=document.querySelector(".filter-price-form");validateFilterPrice(i);var l=t.findIndex(function(t){return"price"===t.filterOption});0<=l&&t.splice(l,1),l=createFilterInputObj(e.target.dataset.filterCategory,e.target.dataset.filterOption,[i.elements.priceFrom.value,i.elements.priceTo.value]),t.push(l),setDataToLS("filterOptions",t);var c=filterProductsFromSpecificCategory(l.category);return localStorage.removeItem("selectedPage"),void loadProducts(c,l.category,0,!0)}e.target.matches(".filter-reset-btn")&&(removeFilterResetBtn(),createFilter(e.target.dataset.category),loadProducts(shopData[e.target.dataset.category],e.target.dataset.category,0,!0))}function createFilterInputObj(t,e,r){var a={};return a.category=t,a.filterOption=e,a.filterOptionValue=r,a}function validateFilterPrice(t){(parseInt(t.elements.priceFrom.value)<parseInt(t.elements.priceFrom.dataset.filterPriceMin)||parseInt(t.elements.priceFrom.value)>parseInt(t.elements.priceTo.dataset.filterPriceMax))&&(t.elements.priceFrom.value=t.elements.priceFrom.dataset.filterPriceMin),(parseInt(t.elements.priceTo.value)>parseInt(t.elements.priceTo.dataset.filterPriceMax)||parseInt(t.elements.priceTo.value)<parseInt(t.elements.priceFrom.dataset.filterPriceMin)||parseInt(t.elements.priceTo.value)<parseInt(t.elements.priceFrom.value))&&(t.elements.priceTo.value=t.elements.priceTo.dataset.filterPriceMax)}function removeFilter(){document.querySelector(".filter")&&(document.querySelector(".filter").removeEventListener("click",filterHandler),cleanFilterLS(),document.querySelector(".filter").remove())}function cleanFilterLS(){localStorage.removeItem("filterOptions"),localStorage.removeItem("selectedProducts"),localStorage.removeItem("selectedPage")}function getDataFromLS(t){var e=localStorage.getItem(t);if(e)return JSON.parse(e)}function setDataToLS(t,e){var r=JSON.stringify(e);localStorage.setItem(t,r)}function filterProductsFromSpecificCategory(a,t){var e,r=t||getDataFromLS("filterOptions"),n={},o=_createForOfIteratorHelper(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;checkFilterPropForSpecificValuesArr(n,i.filterOption),"price"!==i.filterOption?n[i.filterOption].push(i.filterOptionValue):n[i.filterOption]=n[i.filterOption].concat(i.filterOptionValue)}}catch(t){o.e(t)}finally{o.f()}for(var l,c=[],u=function(){var r=d[s];if(!c.length)return"price"===r?(l=shopData[a].filter(function(t){return parseInt(t.price)>=parseInt(n[r][0])&&parseInt(t.price)<=parseInt(n[r][1])}),c=c.concat(l)):n[r].forEach(function(e){l=shopData[a].filter(function(t){return t.specs[r]===e}),c=c.concat(l)}),"continue";var t=[];"price"===r?(l=c.filter(function(t){return parseInt(t.price)>=parseInt(n[r][0])&&parseInt(t.price)<=parseInt(n[r][1])}),t.push(l)):n[r].forEach(function(e){l=c.filter(function(t){return t.specs[r]===e}),t.push(l)}),c=[],t.forEach(function(t){c=c.concat(t)})},s=0,d=Object.keys(n);s<d.length;s++)u();return c.length?(addFilterResetBtn(a,c.length),correctMinMaxPriceForAvailableProducts(c),showFilterNumOfProductsPerOptionValue(c),setDataToLS("selectedProducts",c)):(correctMinMaxPriceForAvailableProducts(shopData[a]),showFilterNumOfProductsPerOptionValue(shopData[a])),c}function correctMinMaxPriceForAvailableProducts(t){var e=[];t.forEach(function(t){return e.push(t.price)});var r=document.querySelector(".filter-price-form");r.elements.priceFrom.setAttribute("data-filter-price-min",Math.min.apply(Math,e)),r.elements.priceFrom.setAttribute("value",Math.min.apply(Math,e)),r.elements.priceTo.setAttribute("data-filter-price-max",Math.max.apply(Math,e)),r.elements.priceTo.setAttribute("value",Math.max.apply(Math,e))}function reloadProductsOfCategoryOrFilter(){var t=getDataFromLS("selectedCategory"),e=getDataFromLS("filterOptions");e&&e.length?(createFilter(t),restoreFilterOptions(),loadProducts(filterProductsFromSpecificCategory(t,e),t,0,!0),reloadSelectedPage()):t&&(createFilter(t),loadProducts(shopData[t],t,0,!0),reloadSelectedPage());return e||t}function restoreFilterOptions(){var t,e=document.querySelector(".filter-list"),r=document.querySelector(".filter-price-form"),a=_createForOfIteratorHelper(getDataFromLS("filterOptions"));try{for(a.s();!(t=a.n()).done;){var n=t.value;"price"!==n.filterOption?e.querySelector("[data-filter-option-value='".concat(n.filterOptionValue,"']")).checked=!0:(r.elements.priceFrom.value=n.filterOptionValue[0],r.elements.priceTo.value=n.filterOptionValue[1])}}catch(t){a.e(t)}finally{a.f()}}function reloadSelectedPage(){var t=getDataFromLS("selectedPage");if(t){document.querySelector(".page-item.active").classList.remove("active");var e,r=_createForOfIteratorHelper(document.querySelectorAll(".page-link"));try{for(r.s();!(e=r.n()).done;){var a=e.value;if(a.textContent===t){a.parentElement.classList.add("active"),a.click();break}}}catch(t){r.e(t)}finally{r.f()}}}function addFilterResetBtn(t,e){removeFilterResetBtn();var r=creatHtmlElement(document.querySelector(".filter-reset-info"),"","input",["filter-reset-btn"]);r.setAttribute("type","button"),r.setAttribute("value","Reset Filter"),r.setAttribute("data-category",t);var a=creatHtmlElement("","  (".concat(e,")"),"span",["filter-reset-span"]);r.after(a)}function removeFilterResetBtn(){document.querySelector(".filter-reset-btn")&&(document.querySelector(".filter-reset-btn").nextElementSibling.remove(),document.querySelector(".filter-reset-btn").remove())}function showFilterNumOfProductsPerOptionValue(t){for(var e=getObjWithNamedArraysOfAllValuesFromProductsSpecificProps(t),r=0,a=Object.keys(e);r<a.length;r++){var n=a[r];if("price"!==n){var o,i=_createForOfIteratorHelper(document.querySelector(".filter-list").querySelectorAll("[data-filter-option='".concat(n,"']")));try{for(i.s();!(o=i.n()).done;){var l=o.value;l.nextElementSibling.classList.remove("filter-label--inactive"),l.nextElementSibling.nextElementSibling.classList.remove("filter-span-num--inactive"),l.disabled=!1;var c,u=0,s=!1,d=_createForOfIteratorHelper(e[n]);try{for(d.s();!(c=d.n()).done;){var m=c.value;if(l.dataset.filterOptionValue===m&&l.checked){s=!0;break}l.dataset.filterOptionValue===m&&u++}}catch(t){d.e(t)}finally{d.f()}l.checked&&s?l.nextElementSibling.nextElementSibling.classList.add("filter-span-num--inactive"):0<u?l.nextElementSibling.nextElementSibling.textContent="  (".concat(u,")"):(l.nextElementSibling.classList.add("filter-label--inactive"),l.nextElementSibling.nextElementSibling.classList.add("filter-span-num--inactive"),l.disabled=!0)}}catch(t){i.e(t)}finally{i.f()}}}}function loadCart(){var t=getElement(".cart-products-table"),e=loadCartProductsFromLS();0<e.length?(setCartQuantity(getQuantityOfProducts()),t.innerHTML="",e.forEach(function(t){var e=creatProduct(t).addProductToCart();fragment.appendChild(e)}),t.appendChild(fragment)):setCartQuantity(getQuantityOfProducts()),loadCartFooter()}function loadCartFooter(){var t=getElement(".cart-content__wrapper"),e=getElement(".cart-footer");e&&e.remove();var r=creatHtmlElement(t,"","div",["cart-footer"]);creatHtmlElement(r,"".concat(getTotalPrice(loadCartProductsFromLS()),"$"),"h3",["cart-total-price"]);var a=creatHtmlElement(r,"","input",["cart-checkout__btn"]);a.setAttribute("type","button"),a.setAttribute("name","checkout"),a.setAttribute("value","Proceed to checkout"),a.addEventListener("click",proceedToCheckout)}function creatOrderTable(t){var e=creatHtmlElement("","","tr",["cart-product"]),r=creatHtmlElement(e,"","td",[]),a=creatHtmlElement(r,"","div",["cart-product-img__wrapper"]);return creatHtmlElement(a,"","img",["cart-img"]).setAttribute("src",t.img),creatHtmlElement(e,t.name,"td",[]),creatHtmlElement(e,"".concat(t.price,"$"),"td",[]),creatHtmlElement(e,t.buyQuantity,"td",[]),creatHtmlElement(e,"Total: ".concat(parseInt(t.price)*t.buyQuantity,"$"),"td",[]),e}function creatOrderForm(e){var t=creatHtmlElement("","","form",["order__form"]);t.setAttribute("name","billingForm");var r=creatHtmlElement(t,"","div",["form-row"]),a=creatHtmlElement(r,"","div",["col"]),n=creatHtmlElement(a,"","input",["form-control"]);n.setAttribute("placeholder","First name"),n.setAttribute("name","firstName"),n.setAttribute("data-toggle","tooltip");var o=creatHtmlElement(r,"","div",["col"]),i=creatHtmlElement(o,"","input",["form-control"]);i.setAttribute("placeholder","Second name"),i.setAttribute("name","secondName"),i.setAttribute("data-toggle","tooltip");var l=creatHtmlElement(t,"","div",["form-row"]),c=creatHtmlElement(l,"","div",["col"]),u=creatHtmlElement(c,"","input",["form-control"]);u.setAttribute("placeholder","Country"),u.setAttribute("name","country"),u.setAttribute("data-toggle","tooltip");var s=creatHtmlElement(l,"","div",["col"]),d=creatHtmlElement(s,"","input",["form-control"]);d.setAttribute("placeholder","City"),d.setAttribute("name","city"),d.setAttribute("data-toggle","tooltip");var m=creatHtmlElement(t,"","div",["form-row"]),f=creatHtmlElement(m,"","div",["col"]),p=creatHtmlElement(f,"","input",["form-control"]);p.setAttribute("placeholder","Phone number: +xx(xxx)xxx-xx-xx"),p.setAttribute("name","phone"),p.setAttribute("data-toggle","tooltip");var v=creatHtmlElement(t,"","div",["form-row"]),g=creatHtmlElement(v,"","div",["col"]),y=creatHtmlElement(g,"","input",["form-control"]);y.setAttribute("placeholder","Post department"),y.setAttribute("name","postDepartment"),y.setAttribute("data-toggle","tooltip");var b=creatHtmlElement(t,"","div",["form-row"]),h=creatHtmlElement(b,"","div",["col"]),E=creatHtmlElement(h,"","select",["form-control"]);E.setAttribute("name","payMethod"),creatHtmlElement(E,"Credit card","option",[]),creatHtmlElement(E,"Cash on delivery","option",[]);var A=creatHtmlElement(t,"","div",["form-row"]),S=creatHtmlElement(A,"","div",["col"]),H=creatHtmlElement(S,"","textarea",["form-control"]);H.setAttribute("rows","3"),H.setAttribute("placeholder","Comment");var P=creatHtmlElement(t,"","div",["form-buttons__wrapper"]),F=creatHtmlElement(P,"","input",["place-order__btn","btn","btn-dark"]);F.setAttribute("type","button"),F.setAttribute("value","Place order"),F.addEventListener("click",function(){var t=getUserDataFromForm("billingForm");t.products=loadCartProductsFromLS(),t.totalPrice=getTotalPrice(loadCartProductsFromLS()),checkValidForm(t,"billingForm")&&placeOrderHadler(t,e)});var _=creatHtmlElement(P,"","input",["close-order__btn","btn","btn-light"]);return _.setAttribute("type","button"),_.setAttribute("value","Close"),_.setAttribute("data-dismiss","modal"),t}function sellProducts(){loadCartProductsFromLS().forEach(function(r){Object.keys(shopData).forEach(function(t){var e=shopData[t].filter(function(t){return t.id===r.id})[0];e&&(e.quantity=(parseInt(e.quantity)-parseInt(r.buyQuantity)).toString())})})}function checkValidForm(t,e){var o=document.forms[e].elements,i=!0;return Object.keys(patternCollection).forEach(function(n){Object.entries(t).forEach(function(t){var e=_slicedToArray(t,2),r=e[0],a=e[1];n===r&&(new RegExp(patternCollection[n].pattern).test(a)?(o[n].classList.remove("error__input"),(0,_jquery.default)(o[n]).tooltip("disable")):(o[n].classList.add("error__input"),i=!1,o[n].setAttribute("title",patternCollection[n].msg),(0,_jquery.default)(o[n]).tooltip("enable")))})}),i}function deleteProduct(r){deleteProductFromCart(r);var a=loadCartProductsFromLS();localStorage.removeItem("onlineStore"),a.forEach(function(t,e){t.id===r.parentNode.dataset.id&&a.splice(e,1)}),addCartProductsToLS(a),setCartQuantity(getQuantityOfProducts()),loadCartFooter(),showCart(!0)}function deleteProductFromCart(t){var e,r=_createForOfIteratorHelper(document.querySelectorAll(".cart-product"));try{for(r.s();!(e=r.n()).done;){var a=e.value;a.contains(t)&&a.remove()}}catch(t){r.e(t)}finally{r.f()}}function setCartQuantity(t){document.querySelector(".count-items").querySelector("span").textContent=t}function creatPage(t){var e=document.querySelector(".pagination");e.innerHTML="";for(var r=1;r<=t;r++){var a=creatHtmlElement("","","li",["page-item"]);1===r&&a.classList.add("active"),creatHtmlElement(a,"".concat(r),"a",["page-link"]).setAttribute("href","#sort"),fragment.appendChild(a)}e.appendChild(fragment),e.addEventListener("click",function(t){pageHandler(t)})}function changeActivePage(t){var e,r=_createForOfIteratorHelper(document.querySelector(".pagination").querySelectorAll("li"));try{for(r.s();!(e=r.n()).done;){var a=e.value;a.classList.contains("active")&&(a.classList.remove("active"),t.parentElement.classList.add("active"))}}catch(t){r.e(t)}finally{r.f()}}function getShopCategory(){return document.querySelector(".shop__content").dataset.category}function changeActiveCategory(t){var e,r=_createForOfIteratorHelper(document.querySelector(".categories-list").querySelectorAll(".category"));try{for(r.s();!(e=r.n()).done;){var a=e.value;a.classList.contains("category-active")&&a.classList.remove("category-active"),t.classList.add("category-active")}}catch(t){r.e(t)}finally{r.f()}}function creatProduct(t){return new Product(t.id,t.date,t.img,t.name,t.price,t.description,t.specs,t.quantity,t.reviews,t.category,t.buyQuantity)}function creatRating(t,e){for(var r=1;r<=5;r++)r<=parseInt(t)?e.insertAdjacentHTML("beforeend",'<i data-star="'.concat(r,'" class="fa fa-star"></i>')):e.insertAdjacentHTML("beforeend",'<i data-star="'.concat(r,'" class="far fa-star"></i>'))}function updateRating(r,a){document.querySelectorAll(".product-card").forEach(function(t){if(t.dataset.id===r){var e=t.querySelector(".product-rating").querySelector(".rating");e.innerHTML="",creatRating(getOverallRating(r,a),e),sortHandler(),reloadSelectedPage()}})}function getOverallRating(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:getShopCategory(),r=0,a=getProduct(t,e).reviews;return 0===a.length?r:(a.forEach(function(t){r+=parseInt(t.productRating)}),Math.floor(r/a.length))}function showCart(t){var e=getElement(".cart-content__wrapper"),r=loadCartProductsFromLS();t&&0<r.length?(e.style.visibility="visible",e.style.opacity=1):(e.style.visibility="hidden",e.style.opacity=0)}function creatSpecsHtml(t){var e=creatHtmlElement("","","div",["specs-column"]);return Object.entries(t).forEach(function(t){var e=_slicedToArray(t,2),r=e[0],a=e[1];r=r[0].toUpperCase()+r.split(/([A-Z]\w{1,})/).join(" ").slice(1);var n=creatHtmlElement("","","div",["specs-inner"]);creatHtmlElement(n,r,"p",["specs-name"]),creatHtmlElement(n,a,"span",["specs-value"]),fragment.appendChild(n)}),e.appendChild(fragment),e}function creatReviewsHtml(t){return t.forEach(function(t){var e=creatHtmlElement("","","div",["reviews-wrapper"]),r=creatReview(t);e.appendChild(r),fragment.appendChild(e)}),fragment}function creatReview(t){var l=creatHtmlElement("","","div",[]),c=creatHtmlElement(l,"","div",["customer-inner"]),u=creatHtmlElement(c,"","div",["customer-header"]);return Object.entries(t).forEach(function(t){var e=_slicedToArray(t,2),r=e[0],a=e[1];switch(r){case"userName":var n=creatHtmlElement("",a,"p",["customer-name"]);u.insertAdjacentElement("afterbegin",n);break;case"date":creatHtmlElement(u,a,"span",["post-date"]);break;case"productRating":var o=creatHtmlElement(c,"","div",["product-rating"]);creatRating(a,creatHtmlElement(o,"","span",["rating"]));break;case"textReview":var i=creatHtmlElement(l,"","div",["review-text-wrapper"]);creatHtmlElement(i,a,"p",["review-text"])}}),creatHtmlElement(l,"","hr",[]),l}function creatReviewForm(t,e){var r=creatHtmlElement("","","form",["reviewForm-style"]);r.setAttribute("name","reviewForm");var a=creatHtmlElement(r,"","div",["form-row"]),n=creatHtmlElement(a,"","div",["col"]),o=creatHtmlElement(n,"","input",["form-control"]);o.setAttribute("placeholder","First name"),o.setAttribute("name","firstName"),o.setAttribute("data-toggle","tooltip");var i=creatHtmlElement(r,"","div",["form-row"]),l=creatHtmlElement(i,"","div",["col"]),c=creatHtmlElement(l,"","input",["form-control"]);c.setAttribute("placeholder","Second name"),c.setAttribute("name","secondName"),c.setAttribute("data-toggle","tooltip");var u=creatHtmlElement(r,"","div",["form-row"]),s=creatHtmlElement(u,"","div",["col"]),d=creatHtmlElement(s,"","textarea",["form-control"]);d.setAttribute("placeholder","Your feedback"),d.setAttribute("name","textComment"),d.setAttribute("data-toggle","tooltip");var m=creatHtmlElement(r,"","div",["submit-wrapper"]),f=creatHtmlElement(m,"Rating: ","div",["product-rating"]);creatRating(0,creatHtmlElement(f,"","span",["rating"]));var p=creatHtmlElement(m,"","input",["submit-btn"]);return p.setAttribute("type","button"),p.setAttribute("value","Submit"),p.dataset.id=t,p.dataset.category=e,r.addEventListener("click",function(t){reviewFormHandler(t)}),r}function getProduct(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:getShopCategory();return shopData[t].filter(function(t){return t.id===e})[0]}function quantityActions(t,e){var r=getElement(".quantity-value"),a=getProduct(t.dataset.id,t.dataset.category);switch(e){case"increase":a.quantity===r.textContent?(0,_jquery.default)(".plus-btn").attr("disabled"):(r.textContent++,(0,_jquery.default)(".plus-btn").removeAttr("disabled"));break;case"decrease":r.textContent<="1"?(0,_jquery.default)(".minus-btn").attr("disabled"):(r.textContent--,(0,_jquery.default)("minus-btn").removeAttr("disabled"))}}function loadTopProducts(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=getElement(".products-card");e&&((0,_jquery.default)(".products-card").slick("unslick"),r.innerHTML="",r.removeEventListener("click",shopHandler));for(var n=[],a=function(){var t=randomValue(0,Object.keys(shopData).length-1),e=Object.keys(shopData)[t],r=shopData[e].filter(function(t){return 5===getOverallRating(t.id,e)}),a=r[randomValue(0,r.length-1)];a.category=e,n.push(a),n=_toConsumableArray(new Set(n))};a(),n.length<t;);n.forEach(function(t){var e=creatProduct(t).creatProductCard();e.classList.add("best-product-card"),e.dataset.category=t.category,fragment.appendChild(e)}),r.appendChild(fragment),r.addEventListener("click",shopHandler),(0,_jquery.default)(".products-card").slick({infinite:!0,slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:1500})}function loadNewProducts(){var r=[],t=getElement(".shop__content");return t.innerHTML="",Object.keys(shopData).forEach(function(t){var e=shopData[t].filter(function(t){return getProductDateFromNow(t.date)});0<e.length&&e.forEach(function(t){r.push(t)})}),0===r.length&&Object.values(shopData).forEach(function(t){t.forEach(function(t){r.push(t)})}),loadProducts(r,"newProducts",0,!0,!1),setDataToLS("ShopNewProductsList",r),t.dataset.category="newProducts",creatPage(Math.ceil(r.length/9)),r}function getProductDateFromNow(t){var e=(0,_moment.default)().format("YYYY-MM-DD"),r=(0,_moment.default)().subtract(7,"day").format("YYYY-MM-DD"),a=(0,_moment.default)(t,"DD.MM.YYYY").format("YYYY-MM-DD");return(0,_moment.default)(a).isBetween(r,e,null,"[]")}function resetCategoryActiveStatus(){var t,e=_createForOfIteratorHelper(document.querySelector(".categories-list").querySelectorAll(".category"));try{for(e.s();!(t=e.n()).done;){var r=t.value;r.classList.contains("category-active")&&r.classList.remove("category-active")}}catch(t){e.e(t)}finally{e.f()}}function sortProducts(t){switch(getElement('select[name="dropdownSort"]').value){case"cheapToExpencive":return t.sort(function(t,e){return parseInt(t.price)-parseInt(e.price)});case"expenciveToCheap":return t.sort(function(t,e){return parseInt(e.price)-parseInt(t.price)});case"byRaiting":return t.sort(function(t,e){return getOverallRating(e.id,e.category)-getOverallRating(t.id,t.category)})}}
"use strict";var _moment=_interopRequireDefault(require("moment"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,n=!0,d=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return n=t.done,t},e:function(t){d=!0,o=t},f:function(){try{n||null==a.return||a.return()}finally{if(d)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function shopHandler(t){var o=t.target,n=["add-to-cart__btn","view__btn"];n.forEach(function(t){if(o.classList.contains(t)){var e=getProduct(o.dataset.id,o.dataset.category),r=loadCartProductsFromLS().filter(function(t){return t.id===o.dataset.id})[0];switch(t){case n[0]:if(r&&r.buyQuantity===parseInt(e.quantity)){(new Modal).clearModalContent(),(new Modal).msg("You added the max count of product: ".concat(e.name)),(new Modal).showModal(!0,2e3);break}(new Modal).clearModalContent(),(new Modal).msg("You add ".concat(e.name)),(new Modal).showModal(!0,1200),doActionWithProduct(o,"increase"),loadCart();break;case n[1]:var a=creatProduct(e).productView(1);(new Modal).appendToModal(a),(new Modal).showModal(!1,0)}}})}function cartHandler(t){var e,r=t.target,a=["fa-times","increase__btn","decrease__btn"],o=_createForOfIteratorHelper(r.classList);try{for(o.s();!(e=o.n()).done;){var n=e.value;if(a.includes(n))switch(n){case"fa-times":return deleteProduct(r);case"increase__btn":doActionWithProduct(r,"increase"),loadCart();break;case"decrease__btn":doActionWithProduct(r,"decrease"),loadCart()}}}catch(t){o.e(t)}finally{o.f()}}function proceedToCheckout(){loadCartProductsFromLS().forEach(function(t){var e=creatOrderTable(t);fragment.appendChild(e)});var t=getElement(".modal-content"),e=creatRandomId();creatHtmlElement(t,"Order: ".concat(e),"h2",["modal-title"]);var r=creatHtmlElement("","","div",["order-table__wrapper"]),a=creatHtmlElement("","","table",["order-products-table","cart-products-table"]);a.appendChild(fragment),r.appendChild(a),t.appendChild(r),creatHtmlElement(t,"Order price: ".concat(getTotalPrice(loadCartProductsFromLS()),"$"),"div",["order__total-price"]),creatHtmlElement(t,"","div",["order__line"]),creatHtmlElement(t,"Billing details","h3",["billing-title"]),t.appendChild(creatOrderForm(e)),(new Modal).showModal(!1)}function placeOrderHadler(t,e){fetch("https://my-json-server.typicode.com/vertalik/ServerJSON/cart",{method:"POST",body:JSON.stringify({id:e,order:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(function(t){return console.log(t)}).then(function(){return sellProducts()}).then(function(){return addCartProductsToLS([])}).then(function(){return setCartQuantity(getQuantityOfProducts())}).then(function(){return removeFilter()}).then(function(){return resetCategoryActiveStatus()}).then(function(){return loadNewProducts()}).then(function(){return loadTopProducts(8,!0)}).then(function(){return(new Modal).clearModalContent()}).then(function(){return(new Modal).msg("Your order ".concat(e," has been sending"))}).then(function(){return(new Modal).showModal(!0,2e3)}).catch(function(t){(new Modal).clearModalContent(),(new Modal).msg("Error: Server is disabled"),(new Modal).showModal(!0,2e3),console.log(t)})}function pageHandler(t){var e=t.target,r=getShopCategory(),a=9*parseInt(e.textContent)-9,o=getDataFromLS("selectedProducts"),n=getDataFromLS("ShopNewProductsList"),d=getDataFromLS("ShopFindedProductList");o?loadProducts(o,r,a,!1):"newProducts"===r&&n?loadProducts(n,"newProducts",a,!1):"findedProducts"===r&&d?loadProducts(d,"findedProducts",a,!1):loadProducts(shopData[r],r,a,!1),changeActivePage(e),setDataToLS("selectedPage","".concat(e.textContent))}function categoriesHandler(t){var e=t.target,r=e.textContent.toLowerCase();loadProducts(shopData[r],r,0,!0),changeActiveCategory(e),getElement('input[name="keywords"]').value="",setDataToLS("selectedCategory",r),createFilter(r)}function reviewFormHandler(t){var e=t.target;if(e.dataset.star){var r=document.querySelector(".submit-wrapper").querySelector(".product-rating").querySelector(".rating");r.innerHTML="",creatRating(e.dataset.star,r),r.setAttribute("data-rating",e.dataset.star)}if(e.classList.contains("submit-btn")){var a=document.querySelector(".submit-wrapper").querySelector(".product-rating").querySelector(".rating");a.dataset.rating?a.classList.remove("error__input"):a.classList.add("error__input");var o=getUserDataFromForm("reviewForm");if(checkValidForm(o,"reviewForm")&&a.dataset.rating){o.productRating=a.dataset.rating;var n={};n.userId=creatRandomId(),n.userName=o.firstName+" "+o.secondName,n.date=(0,_moment.default)().format("DD.MM.YYYY"),n.textReview=o.textComment,n.productRating=o.productRating;var d=getProduct(e.dataset.id,e.dataset.category);d.reviews.push(n);var c=creatProduct(d).productView(3);new Promise(function(t){t()}).then(function(){return(new Modal).clearModalContent()}).then(function(){return(new Modal).msg("".concat(n.userName," add new feedback"))}).then(function(){return setTimeout(function(){return(new Modal).clearModalContent()},1500)}).then(function(){return setTimeout(function(){return(new Modal).appendToModal(c)},1500)}).then(function(){return updateRating(e.dataset.id,e.dataset.category)})}}}function viewProductHandler(t){var e=t.target;if(e.classList.contains("plus-btn")&&quantityActions(e,"increase"),e.classList.contains("minus-btn")&&quantityActions(e,"decrease"),e.classList.contains("add-to-cart")){var r=parseInt(getElement(".quantity-value").textContent);doActionWithProduct(e,"increase",r),loadCart();var a=getProduct(e.dataset.id,e.dataset.category);new Promise(function(t){t()}).then(function(){return(new Modal).clearModalContent()}).then(function(){return(new Modal).msg("You add ".concat(a.name))}).then(function(){return setTimeout(function(){return(new Modal).clearModalContent()},1200)}).then(function(){setTimeout(function(){var t=creatProduct(a).productView(1);(new Modal).clearModalContent(),(new Modal).appendToModal(t)},1200)})}}function findProductWithNameHandler(r){localStorage.removeItem("selectedCategory"),removeFilter(),resetCategoryActiveStatus();var a=[],t=getElement(".shop__content");return Object.keys(shopData).forEach(function(t){var e=shopData[t].filter(function(t){if(t.name.toLowerCase().includes(r.toLowerCase()))return t});0<e.length&&e.forEach(function(t){a.push(t)})}),loadProducts(a,"findedProducts",0,!0,!0),setDataToLS("ShopFindedProductList",a),t.dataset.category="findedProducts",creatPage(Math.ceil(a.length/9)),a}function sortHandler(){var t=getShopCategory();if("newProducts"===t){var e=loadNewProducts(),r=sortProducts(e);loadProducts(r,getShopCategory(),0,!0,!0)}else if("findedProducts"===t){var a=findProductWithNameHandler(getElement('input[name="keywords"]').value),o=sortProducts(a);loadProducts(o,getShopCategory(),0,!0,!0)}else{var n=shopData[getShopCategory()];if(getDataFromLS("filterOptions")){var d=filterProductsFromSpecificCategory(getShopCategory(),getDataFromLS("filterOptions")),c=sortProducts(d);loadProducts(c,getShopCategory(),0,!0,!0)}else{var i=sortProducts(n);loadProducts(i,getShopCategory(),0,!0,!0)}}}
"use strict";var _jquery=_interopRequireDefault(require("jquery")),_bootstrap=_interopRequireDefault(require("bootstrap"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var Modal=function(){function e(){_classCallCheck(this,e),this.element=(0,_jquery.default)(".modal-content")}return _createClass(e,[{key:"showModal",value:function(e,t){var a=1<arguments.length&&void 0!==t?t:0;(0,_jquery.default)("#shopModal").modal("show"),(0,_jquery.default)("#shopModal").on("hidden.bs.modal",function(){(0,_jquery.default)(".modal-content").html("")}),e&&setTimeout(this.hideModal,a)}},{key:"hideModal",value:function(){(0,_jquery.default)("#shopModal").modal("hide")}},{key:"msg",value:function(e){var t=creatHtmlElement("",e,"h3",[]);(0,_jquery.default)(t).appendTo(this.element)}},{key:"clearModalContent",value:function(){(0,_jquery.default)(this.element).html("")}},{key:"appendToModal",value:function(e){(0,_jquery.default)(e).appendTo(this.element)}}]),e}();
"use strict";var patternCollection={firstName:{pattern:"^[A-Z][a-z]{1,}$",msg:'Check First name. eg. "Mike"'},secondName:{pattern:"^[A-Z][a-z]{1,}$",msg:'Check Second name. eg."Donald"'},country:{pattern:"^[A-Z][a-z]{1,}$",msg:'Check Country name. eg. "Ukraine"'},city:{pattern:"^[A-Z][a-z]{1,}$",msg:'Check City name. eg. "Odessa"'},phone:{pattern:"^\\+\\d{2}\\(\\d{3}\\)\\d{3}-\\d{2}-\\d{2}$",msg:"Check Phone field! eg. +xx(xxx)xxx-xx-xx"},postDepartment:{pattern:"^\\d{1,}$",msg:"Check Post Department field"},textComment:{pattern:".{2,}",msg:"Fill the comment"},productRating:{pattern:"[1-5]",msg:"Set the rating"}};
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}var Product=function(){function m(t,e,a,i,r,s,n,l,c,d,u){_classCallCheck(this,m),this.id=t,this.date=e,this.img=a,this.name=i,this.price=r,this.description=s,this.specs=n,this.quantity=l,this.reviews=c,this.category=d,this.buyQuantity=u}return _createClass(m,[{key:"creatProductCard",value:function(){var t=creatHtmlElement("","","div",["product-card"]);t.dataset.id=this.id,getProductDateFromNow(this.date)&&creatHtmlElement(t,"NEW","span",["new-product__flag"]);var e=creatHtmlElement(t,"","div",["product-img"]);creatHtmlElement(e,"","img",["product-img__image"]).setAttribute("src",this.img);var a=creatHtmlElement(t,"","div",["product-description"]);creatHtmlElement(a,this.name,"h3",["product-title"]);var i=creatHtmlElement(a,"","div",["price-box"]);creatHtmlElement(i,"".concat(this.price,"$"),"span",["product-price"]);var r=creatHtmlElement(a,"","div",["product-rating"]),s=creatHtmlElement(r,"","span",["rating"]);creatRating(getOverallRating(this.id,this.category),s);var n=creatHtmlElement(a,"","div",["product-actions"]),l=creatHtmlElement(n,"Add to cart","button",["add-to-cart__btn"]);"0"===this.quantity&&l.setAttribute("disabled",""),l.insertAdjacentHTML("afterbegin",'<i class="fa fa-shopping-cart"></i>'),l.dataset.id=this.id,l.dataset.category=this.category;var c=creatHtmlElement(n,"View","button",["view__btn"]);return c.insertAdjacentHTML("afterbegin",'<i class="fa fa-search-plus"></i>'),c.dataset.id=this.id,c.dataset.category=this.category,t}},{key:"addProductToCart",value:function(){var t=creatHtmlElement("","","tr",["cart-product"]);t.dataset.id=this.id;var e=creatHtmlElement(t,"","td",[]),a=creatHtmlElement(e,"","div",["cart-product-img__wrapper"]);creatHtmlElement(a,"","img",["cart-img"]).setAttribute("src",this.img),creatHtmlElement(t,this.name,"td",[]),creatHtmlElement(t,"".concat(this.price,"$"),"td",[]);var i=creatHtmlElement(t,"","td",["quantity__wrapper"]),r=creatHtmlElement(i,"","input",["decrease__btn"]);1===this.buyQuantity&&r.setAttribute("disabled",""),r.setAttribute("type","button"),r.setAttribute("value","-"),r.dataset.id=this.id,r.dataset.category=this.category,creatHtmlElement(i,this.buyQuantity,"div",["input-quantity"]);var s=creatHtmlElement(i,"","input",["increase__btn"]);this.buyQuantity===parseInt(this.quantity)&&s.setAttribute("disabled",""),s.setAttribute("type","button"),s.setAttribute("value","+"),s.dataset.id=this.id,s.dataset.category=this.category;var n=creatHtmlElement(t,"","td",[]);return n.insertAdjacentHTML("afterbegin",'<i class="fas fa-times"></i>'),n.dataset.id=this.id,t}},{key:"productView",value:function(t){var e=this,a=creatHtmlElement("","","div",["product-popup-wrapper"]),i=creatHtmlElement(a,"","button",["close"]);i.setAttribute("type","button"),i.setAttribute("data-dismiss","modal"),i.setAttribute("aria-label","Close"),i.innerHTML='<span aria-hidden="true">&times;</span>';var r=creatHtmlElement(a,"","div",["product-popup"]),s=creatHtmlElement(r,"","div",["product-img"]);creatHtmlElement(s,"","img",["product-img__image"]).setAttribute("src",this.img);var n=creatHtmlElement(r,"","div",["product-popup-description"]);creatHtmlElement(n,this.category,"h3",["category-title"]),creatHtmlElement(n,this.name,"h2",["product-popup-title"]);var l=creatHtmlElement(n,"","div",["price-wrapper"]),c=creatHtmlElement(l,"Price: ","div",["price"]);creatHtmlElement(c,this.price+"$","span",[]);var d=creatHtmlElement(l,"","div",["product-rating"]),u=creatHtmlElement(d,"","span",["rating"]);creatRating(getOverallRating(this.id,this.category),u),creatHtmlElement(d,this.reviews.length+" reviews","span",["product-reviews"]);var m=creatHtmlElement(n,"Available: ","div",["item-number"]);if(0<parseInt(this.quantity)){creatHtmlElement(m,"Yes","span",[]);var o=creatHtmlElement(n,"","div",["quantity-wrapper"]);creatHtmlElement(o,"quantity: ","span",["quantity-title"]);var p=creatHtmlElement(o,"","div",["quantity-btn-wrapper"]),v=creatHtmlElement(p,"","input",["minus-btn","quantity-btn"]);v.setAttribute("type","button"),v.setAttribute("value","-"),v.dataset.id=this.id,v.dataset.category=this.category;var b=loadCartProductsFromLS().filter(function(t){return t.id===e.id})[0];b?creatHtmlElement(p,b.buyQuantity,"span",["quantity-value"]):creatHtmlElement(p,"1","span",["quantity-value"]);var h=creatHtmlElement(p,"","input",["plus-btn","quantity-btn"]);h.setAttribute("type","button"),h.setAttribute("value","+"),h.dataset.id=this.id,h.dataset.category=this.category;var H=creatHtmlElement(n,"","div",["popup-btn"]),E=creatHtmlElement(H,"","input",["add-to-cart"]);E.setAttribute("type","button"),E.setAttribute("value","Add to Cart"),E.dataset.id=this.id,E.dataset.category=this.category}else creatHtmlElement(m,"No","span",[]);var g=creatHtmlElement(a,"","div",["tabs__wrapper"]),y=creatHtmlElement(g,"","nav",[]),A=creatHtmlElement(y,"","div",["nav","nav-tabs"]);A.setAttribute("id","nav-tab"),A.setAttribute("role","tablist");var f=creatHtmlElement(A,"Description","a",["nav-item","nav-link"]);f.setAttribute("id","nav-description-tab"),f.setAttribute("data-toggle","tab"),f.setAttribute("href","#nav-description"),f.setAttribute("role","tab"),f.setAttribute("aria-selected","false"),f.setAttribute("aria-controls","nav-description");var w=creatHtmlElement(A,"Technical specs","a",["nav-item","nav-link"]);w.setAttribute("id","nav-specs-tab"),w.setAttribute("data-toggle","tab"),w.setAttribute("href","#nav-specs"),w.setAttribute("role","tab"),w.setAttribute("aria-selected","false"),w.setAttribute("aria-controls","nav-specs");var _=creatHtmlElement(A,"Reviews","a",["nav-item","nav-link"]);_.setAttribute("id","nav-reviews-tab"),_.setAttribute("data-toggle","tab"),_.setAttribute("href","#nav-reviews"),_.setAttribute("role","tab"),_.setAttribute("aria-selected","false"),_.setAttribute("aria-controls","nav-reviews");var C=creatHtmlElement(g,"","div",["tab-content"]);C.setAttribute("id","nav-tabContent");var L=creatHtmlElement(C,this.description,"div",["tab-pane","fade"]);L.setAttribute("id","nav-description"),L.setAttribute("role","tabpanel"),L.setAttribute("aria-labelledby","nav-description-tab");var q=creatHtmlElement(C,"","div",["tab-pane","fade"]);q.setAttribute("id","nav-specs"),q.setAttribute("role","tabpanel"),q.setAttribute("aria-labelledby","nav-specs-tab");var k=creatSpecsHtml(this.specs);q.appendChild(k);var P=creatHtmlElement(C,"","div",["tab-pane","fade"]);P.setAttribute("id","nav-reviews"),P.setAttribute("role","tabpanel"),P.setAttribute("aria-labelledby","nav-reviews-tab");var R=creatReviewsHtml(this.reviews),T=creatHtmlElement(P,"","div",["reviews-scroll__wrapper"]);T.appendChild(R),P.appendChild(T),creatHtmlElement(P,"Your feedback","h3",["comments-title"]);var Q=creatReviewForm(this.id,this.category);switch(P.appendChild(Q),t){case 1:f.classList.add("active"),f.setAttribute("aria-selected","true"),L.classList.add("show"),L.classList.add("active");break;case 2:w.classList.add("active"),w.setAttribute("aria-selected","true"),q.classList.add("show"),q.classList.add("active");break;case 3:_.classList.add("active"),_.setAttribute("aria-selected","true"),P.classList.add("show"),P.classList.add("active")}return a.addEventListener("click",function(t){viewProductHandler(t)}),a}}]),m}();
"use strict";var _jquery=_interopRequireDefault(require("jquery")),_slickCarousel=_interopRequireDefault(require("slick-carousel"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(0,_jquery.default)(document).ready(function(){(0,_jquery.default)(".main-slider").slick({dots:!1,autoplay:!0,autoplaySpeed:1500,arrows:!1})});
"use strict";function _createForOfIteratorHelper(r){if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(r=_unsupportedIterableToArray(r))){var t=0,e=function(){};return{s:e,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(r){throw r},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,a=!0,i=!1;return{s:function(){n=r[Symbol.iterator]()},n:function(){var r=n.next();return a=r.done,r},e:function(r){i=!0,o=r},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_unsupportedIterableToArray(r,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function _iterableToArrayLimit(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,o=!1,a=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return e}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function creatHtmlElement(r,t,e,n){var o=document.createElement(e);return n.forEach(function(r){o.classList.add(r)}),o.textContent=t,r&&r.appendChild(o),o}function parseJsonData(r){Object.entries(r).forEach(function(r){var t=_slicedToArray(r,2),e=t[0],n=t[1];(shopData[e]=n).forEach(function(r){r.category=e})})}function loadCartProductsFromLS(){localStorage.getItem("onlineStore")||addCartProductsToLS([]);var r=localStorage.getItem("onlineStore");return JSON.parse(r)}function addCartProductsToLS(r){if(Array.isArray(r))localStorage.removeItem("onlineStore"),localStorage.setItem("onlineStore",JSON.stringify(r));else{var t=loadCartProductsFromLS();t.push(r),localStorage.setItem("onlineStore",JSON.stringify(t))}}function getQuantityOfProducts(){var r=loadCartProductsFromLS(),t=0;return 0<r.length?(r.forEach(function(r){t+=r.buyQuantity}),t):0}function getTotalPrice(r){var t=0;return 0<r.length&&r.forEach(function(r){t+=parseInt(r.price)*r.buyQuantity}),t}function creatRandomId(){return Math.random().toFixed(5).slice(2)}function getElement(r){return document.querySelector(r)}function removeElement(r){r&&r.remove()}function getUserDataFromForm(r){var t,e={},n=_createForOfIteratorHelper(document.forms[r].elements);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.name&&(e[o.name]=o.value)}}catch(r){n.e(r)}finally{n.f()}return e}function randomValue(r,t){return Math.floor(Math.random()*(t-r+1))+r}