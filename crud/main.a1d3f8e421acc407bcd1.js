!function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;o.push([250,1]),n()}({250:function(e,t,n){n(251),e.exports=n(443)},437:function(e,t,n){},439:function(e,t,n){var r={"./af":123,"./af.js":123,"./ar":124,"./ar-dz":125,"./ar-dz.js":125,"./ar-kw":126,"./ar-kw.js":126,"./ar-ly":127,"./ar-ly.js":127,"./ar-ma":128,"./ar-ma.js":128,"./ar-sa":129,"./ar-sa.js":129,"./ar-tn":130,"./ar-tn.js":130,"./ar.js":124,"./az":131,"./az.js":131,"./be":132,"./be.js":132,"./bg":133,"./bg.js":133,"./bm":134,"./bm.js":134,"./bn":135,"./bn.js":135,"./bo":136,"./bo.js":136,"./br":137,"./br.js":137,"./bs":138,"./bs.js":138,"./ca":139,"./ca.js":139,"./cs":140,"./cs.js":140,"./cv":141,"./cv.js":141,"./cy":142,"./cy.js":142,"./da":143,"./da.js":143,"./de":144,"./de-at":145,"./de-at.js":145,"./de-ch":146,"./de-ch.js":146,"./de.js":144,"./dv":147,"./dv.js":147,"./el":148,"./el.js":148,"./en-SG":149,"./en-SG.js":149,"./en-au":150,"./en-au.js":150,"./en-ca":151,"./en-ca.js":151,"./en-gb":152,"./en-gb.js":152,"./en-ie":153,"./en-ie.js":153,"./en-il":154,"./en-il.js":154,"./en-nz":155,"./en-nz.js":155,"./eo":156,"./eo.js":156,"./es":157,"./es-do":158,"./es-do.js":158,"./es-us":159,"./es-us.js":159,"./es.js":157,"./et":160,"./et.js":160,"./eu":161,"./eu.js":161,"./fa":162,"./fa.js":162,"./fi":163,"./fi.js":163,"./fo":164,"./fo.js":164,"./fr":165,"./fr-ca":166,"./fr-ca.js":166,"./fr-ch":167,"./fr-ch.js":167,"./fr.js":165,"./fy":168,"./fy.js":168,"./ga":169,"./ga.js":169,"./gd":170,"./gd.js":170,"./gl":171,"./gl.js":171,"./gom-latn":172,"./gom-latn.js":172,"./gu":173,"./gu.js":173,"./he":174,"./he.js":174,"./hi":175,"./hi.js":175,"./hr":176,"./hr.js":176,"./hu":177,"./hu.js":177,"./hy-am":178,"./hy-am.js":178,"./id":179,"./id.js":179,"./is":180,"./is.js":180,"./it":181,"./it-ch":182,"./it-ch.js":182,"./it.js":181,"./ja":183,"./ja.js":183,"./jv":184,"./jv.js":184,"./ka":185,"./ka.js":185,"./kk":186,"./kk.js":186,"./km":187,"./km.js":187,"./kn":188,"./kn.js":188,"./ko":189,"./ko.js":189,"./ku":190,"./ku.js":190,"./ky":191,"./ky.js":191,"./lb":192,"./lb.js":192,"./lo":193,"./lo.js":193,"./lt":194,"./lt.js":194,"./lv":195,"./lv.js":195,"./me":196,"./me.js":196,"./mi":197,"./mi.js":197,"./mk":198,"./mk.js":198,"./ml":199,"./ml.js":199,"./mn":200,"./mn.js":200,"./mr":201,"./mr.js":201,"./ms":202,"./ms-my":203,"./ms-my.js":203,"./ms.js":202,"./mt":204,"./mt.js":204,"./my":205,"./my.js":205,"./nb":206,"./nb.js":206,"./ne":207,"./ne.js":207,"./nl":208,"./nl-be":209,"./nl-be.js":209,"./nl.js":208,"./nn":210,"./nn.js":210,"./pa-in":211,"./pa-in.js":211,"./pl":212,"./pl.js":212,"./pt":213,"./pt-br":214,"./pt-br.js":214,"./pt.js":213,"./ro":215,"./ro.js":215,"./ru":216,"./ru.js":216,"./sd":217,"./sd.js":217,"./se":218,"./se.js":218,"./si":219,"./si.js":219,"./sk":220,"./sk.js":220,"./sl":221,"./sl.js":221,"./sq":222,"./sq.js":222,"./sr":223,"./sr-cyrl":224,"./sr-cyrl.js":224,"./sr.js":223,"./ss":225,"./ss.js":225,"./sv":226,"./sv.js":226,"./sw":227,"./sw.js":227,"./ta":228,"./ta.js":228,"./te":229,"./te.js":229,"./tet":230,"./tet.js":230,"./tg":231,"./tg.js":231,"./th":232,"./th.js":232,"./tl-ph":233,"./tl-ph.js":233,"./tlh":234,"./tlh.js":234,"./tr":235,"./tr.js":235,"./tzl":236,"./tzl.js":236,"./tzm":237,"./tzm-latn":238,"./tzm-latn.js":238,"./tzm.js":237,"./ug-cn":239,"./ug-cn.js":239,"./uk":240,"./uk.js":240,"./ur":241,"./ur.js":241,"./uz":242,"./uz-latn":243,"./uz-latn.js":243,"./uz.js":242,"./vi":244,"./vi.js":244,"./x-pseudo":245,"./x-pseudo.js":245,"./yo":246,"./yo.js":246,"./zh-cn":247,"./zh-cn.js":247,"./zh-hk":248,"./zh-hk.js":248,"./zh-tw":249,"./zh-tw.js":249};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=439},443:function(e,t,n){"use strict";n.r(t),n.d(t,"persons",(function(){return ne})),n.d(t,"cars",(function(){return re})),n.d(t,"companies",(function(){return ae})),n.d(t,"tableArray",(function(){return oe})),n.d(t,"fragment",(function(){return ce})),n.d(t,"navigationWrapper",(function(){return ie})),n.d(t,"tableWrapper",(function(){return se})),n.d(t,"mainDataWrapper",(function(){return ue}));n(437);var r=n(2),a=n.n(r),o={id:{type:"number",readonly:""},date:{type:"text",readonly:""},name:{name:"name",placeholder:"Enter the name"},age:{type:"number",name:"age",placeholder:"Enter the age"},money:{type:"number",name:"money",placeholder:"Enter the amout"},year:{type:"number",name:"year",placeholder:"Enter the year"},price:{type:"number",name:"price",placeholder:"Enter the price"},workers:{placeholder:"Enter the number of workers"},owner:{readonly:""},buyDate:{readonly:""},car:{type:"array",readonly:""}},c={persons:{name:{pattern:"^[A-Z][a-z]{1,} [A-Z][a-z]{1,}$",msg:'Check Name field! eg. "Marco Polo"'},age:{pattern:"^([1-9][0-9]?)$|^(10[0-9])$",msg:"Check Age field! Range (1-109)"},money:{pattern:"^\\d{1,}$",msg:"Check your money :)"}},cars:{name:{pattern:"^[A-Z]\\w{1,}\\s?\\w{1,}-?\\s?\\w{1,}.?(\\w{1,})?$",msg:"Check car name!"},year:{pattern:"^(19[7-9][0-9])$|^(20[0-1][0-9])$|^(2020)$",msg:"Check year field!"},price:{pattern:"^\\d{1,}$",msg:"Check price"}},companies:{name:{pattern:"^[A-Z][a-z]{1,}\\s?([A-Z])?([a-z]{1,})?.?$",msg:"Check Company name!"},workers:{pattern:"^\\d{1,}$",msg:"Check workers field!"},money:{pattern:"^\\d{1,}$",msg:"Check your money :)"}}},i=n(0),s=n.n(i);var u=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.date=n,this.name=r};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t,n=(t=r,function(){var e,n=m(t);if(d()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p(this,e)});function r(e,t,a,o,c,i,s){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(u=n.call(this,e,t,a)).year=o,u.price=c,u.owner=i,u.buyDate=s,u}return r}(u);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,e);var t,n=(t=r,function(){var e,n=g(t);if(j()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return h(this,e)});function r(e,t,a,o,c,i){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(s=n.call(this,e,t,a)).workers=o,s.money=c,s.car=i,s}return r}(u);n(440);function _(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=C(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n){var r=a()("<".concat(t,"></").concat(t,">"),{text:e})[0];return a()(r).addClass(n),r}function x(e){if(!localStorage.key(e))return!1;var t=localStorage.getItem(e);return JSON.parse(t)}function T(e,t){var n=JSON.stringify(e);localStorage.setItem(t,n)}function M(){return Number(Math.random().toFixed(5).slice(2))}function z(e,t){var n=E("","table",["main-table"]);a()(n).attr("data-table",t);var r=E("","tr",[]),o=E("Id","td",[]),c=E("Name","td",[]),i=E("","td",["table-actions"]),u=E("Actions","span",[]);a()(i).append(u);var l=E("","input",["addBtn","btn","btn-success"]);a()(l).attr({type:"button",value:"Add"}).appendTo(i),a()(r).append(o,c,i).appendTo(n),a.a.each(e,(function(e,t){var n=A(t.id,t.name);a()(ce).append(n)})),a()(n).append(ce).appendTo(se).click((function(e){return t=e.target,void a.a.each(["viewBtn","editBtn","delBtn","addBtn"],(function(e,n){if(a()(t).hasClass(n)){P();var r=D();!function(e,t,n,r){switch(e){case"viewBtn":return function(e,t){var n=function(e){var t=E("","table",["view-table"]);return Object.entries(e).forEach((function(e){var t=k(e,2),n=t[0],r=t[1];"car"===n&&(r=V(r,re)),"owner"===n&&""!==r&&(r=K(r)),n=Y(n);var o=E("","tr",[]),c=E("".concat(n,":"),"td",["key"]),i=E(r,"td",["value"]);"Car"===n&&(i.dataset.car="cars"),a()(o).append(c,i).appendTo(ce)})),a()(t).append(ce),t}(B(e,t)),r=E("","div",["close-table-wrapper"]),o=E("x","button",["close-table-btn"]);a()(o).click(P),a()(r).append(o).appendTo(ue),a()(ue).append(n),function(){var e,t=a()('[data-car="cars"]');if(""!==t.text()){t.addClass("tooltip__color");var n=[];t.text().split(",").forEach((function(e){var t,r=re.filter((function(t){return t.name===e}))[0];n.push("<p><b>".concat(e,"</b> was bought</p><p><em>").concat((t=r.buyDate,s()(t,"MMM Do YYYY, hh:mm a").format("MMM Do YYYY, hh:mm a")),"</em></p>"))})),t.attr((e={},O(e,"data-toggle","tooltip"),O(e,"data-html",!0),O(e,"data-placement","top"),O(e,"title",n),e)).hover().tooltip()}}()}(t,n);case"editBtn":return function(e,t){F(B(e,t),t,!0)}(t,n);case"delBtn":return function(e,t){var n=B(e,t),r=document.getElementById("modalMsg");r.querySelector(".modal-title").textContent="Delete",r.querySelector(".modal-body").textContent='Do you really want to remove "'.concat(n.name,'" ?');var o=E("Yes","button",["confirm-yes-btn","btn","btn-success"]),c=E("No","button",["confirm-no-btn","btn","btn-danger"]);a()(o).attr({type:"button"}).appendTo(".modal-footer").on("click",(function(){a()(r).modal("hide"),function(e,t){"persons"!==t&&"companies"!==t||re.forEach((function(t){parseInt(t.owner)===e.id&&(t.owner="",t.buyDate=""),T(re,"cars")})),"cars"===t&&(L(e,"persons"),L(e,"companies"),T(ne,"persons"),T(re,"cars"));var n=R(t);!function(e,t){var n,r=_(a()(".main-table")[0].children);try{for(r.s();!(n=r.n()).done;){var o=n.value;parseInt(o.dataset.id)===e.id&&(o.remove(),Object.values(t).forEach((function(n,r){if(n.id===e.id){t.splice(r,1);var a=D();T(t,a)}})))}}catch(e){r.e(e)}finally{r.f()}}(e,n)}(n,t)})),a()(c).attr(O({type:"button"},"data-dismiss","modal")).appendTo(".modal-footer"),a()(r).modal("show"),a()(r).on("hidden.bs.modal",(function(){a()(o).remove(),a()(c).remove()}))}(t,n);case"addBtn":F(r,n,!1)}}(n,parseInt(I(t)),r,$(r))}}));var t}))}function A(e,t){var n=E("","tr",["main-table-row"]);a()(n).attr("data-id",e);var r=E(e,"td",[]),o=E(t,"td",[]),c=E("View","button",["viewBtn","btn","btn-info"]),i=E("Edit","button",["editBtn","btn","btn-warning"]),s=E("Remove","button",["delBtn","btn","btn-danger"]),u=E("","td",[]);return a()(u).append(c,i,s),a()(n).append(r,o,u),n}function I(e){var t;return a()(".main-table-row").each((function(n,r){r.contains(e)&&(t=r.dataset.id)})),t}function P(){a()(ue).html("")}function D(){return a()(".main-table").data("table")}function B(e,t){switch(t){case"persons":return ne.filter((function(t){return t.id===e}))[0];case"cars":return re.filter((function(t){return t.id===e}))[0];case"companies":return ae.filter((function(t){return t.id===e}))[0]}}function R(e){return oe[e]}function Y(e){var t=e.search(/[A-Z]/g);if(t<0)return e=e[0].toUpperCase()+e.slice(1);var n=e.split("");n.splice(t,0," ");var r=n.join("");return r=r[0].toUpperCase()+r.slice(1)}function $(e){var t=Q();switch(e){case"persons":return function(e){var t=new u(M(),e,"");return t.age="",t.money="",t.car=[],t}(t);case"cars":return new y(M(),t,"","","","");case"companies":return new w(M(),t,"","","",[])}}function F(e,t,n){var r=E("","div",["form__wrapper"]),c=E("","form",["main-form"]);a()(c).attr("name","mainForm");var i=E("","div",["close-btn"]),s=E("","input",["closeBtn"]);a()(s).attr({type:"button",name:"closeBtn",value:"x"}).click(P).appendTo(i),Object.entries(e).forEach((function(e){var t=k(e,2),n=t[0],r=t[1];"car"===n&&(r=V(r,re)),"owner"===n&&""!==r&&(r=K(r));var c=E("".concat(Y(n),":"),"div",["".concat(n.toLowerCase(),"-container")]);n=n[0].toLowerCase()+n.slice(1);var i=E("","input",[]);Object.keys(o).forEach((function(e){n===e?Object.entries(o[n]).forEach((function(e){var t,n=k(e,2),o=n[0],c=n[1];a()(i).attr((O(t={},o,[c]),O(t,"value",r),t))})):a()(i).attr({name:n,value:r})})),a()(c).append(i).appendTo(ce)}));var u=E("","div",["btn-container"]),l=E("","input",["saveBtn","btn","btn-primary"]);if(a()(l).attr({type:"button",name:"saveBtn",value:"Save"}).click(N),n&&"cars"!==t){var f=E("","input",["buyCar","btn","btn-outline-primary"]);a()(f).attr({type:"button",name:"buyCar",value:"Buy Car"}).appendTo(u);var p=E("","input",["btn","btn-outline-primary","sellCar"]);a()(p).attr({type:"button",name:"sellCar",value:"Sell Car"}).appendTo(u),a()(c).click((function(e){a()(e.target).hasClass("buyCar")&&W("buy"),a()(e.target).hasClass("sellCar")&&W("sell")}))}a()(u).append(l),a()(c).append(i,ce,u).appendTo(r),a()(ue).append(r)}function N(){if(function(){var e,t=document.forms.mainForm,n=D(),r=_(t.elements);try{for(r.s();!(e=r.n()).done;){var o=e.value;if("car"!==o.name&&"owner"!==o.name&&"buyDate"!==o.name){if(0===o.value.length)return a()(o).addClass("error__input"),U("Fill the Fields","alert-danger"),!1;if(c[n].hasOwnProperty(o.name)){if(!new RegExp(c[n][o.name].pattern).test(o.value))return a()(o).addClass("error__input"),U(c[n][o.name].msg,"alert-danger"),!1;J(!0)}}}}catch(e){r.e(e)}finally{r.f()}return!0}()){var e=parseInt(a()('input[name="id"]').val()),t=a()(".main-table")[0],n=D(),r=R(n),o=B(e,n);if(o){q(o);var i,s=_(t.children);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(parseInt(u.dataset.id)===e){var l=A(e,o.name);u.replaceWith(l)}}}catch(e){s.e(e)}finally{s.f()}return T(r,n),void P()}var f=$(n);q(f),r.push(f);var p=A(f.id,f.name);a()(t).append(p),T(r,n),P()}}function q(e){var t,n=_(document.forms.mainForm.elements);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(o.hasOwnProperty(r.name))if("number"===r.type)e[r.name]=parseInt(r.value);else{if("car"===r.name||"owner"===r.name)continue;e[r.name]=r.value}}}catch(e){n.e(e)}finally{n.f()}}function L(e,t){R(t).forEach((function(t){if(t.car.includes(e.id)){var n=t.car.indexOf(e.id);t.car.splice(n,1)}}))}function W(e){H();var t=a()(".form__wrapper"),n=E("","div",["tabel_car__wrapper"]),r=E("","table",["Car__table"]),o=E("x","button",["close-table-btn"]);a()(o).click(H);var c=E("","tr",[]),i=E("Id","td",[]),s=E("Name","td",[]),u=E("Price","td",[]),l=E("Action","td",["table-actions"]);a()(c).append(i,s,l,u).appendTo(r);var f,p=parseInt(a()('input[name="money"]').val()),d=R(D());"buy"===e&&(f=function(e){var t=re.filter((function(t){return""===t.owner&&t.price<=e}));if(0===t.length)return U("Sorry, all cars bought or not enough money.","alert-danger"),!1;return t.forEach((function(e){var t=A(e.id,e.name),n=E(e.price,"td",[]),r=E("","td",[]),o=E("Buy","button",["buy__car__btn","btn","btn-success"]);a()(r).append(o),a()(t).children().last().replaceWith(r),a()(t).append(n).appendTo(ce)})),!0}(p)),"sell"===e&&(f=function(e){var t=e.filter((function(e){return e.id===parseInt(a()('input[name="id"]').val())}))[0];if(0===t.car.length)return U("Sorry, nothing to sell.","alert-danger"),!1;return t.car.forEach((function(e){var t=re.filter((function(t){return t.id===e}))[0],n=A(t.id,t.name),r=E("","td",[]),o=E(t.price-.3*t.price,"td",[]),c=E("Sell","button",["sell__car__btn","btn","btn-danger"]);a()(r).append(c),a()(n).children().last().replaceWith(r),a()(n).append(o).appendTo(ce)})),!0}(d)),f&&(a()(r).append(ce).click((function(e){return function(e){var t=e.target,n=document.forms.mainForm,r=parseInt(I(t)),o=D(),c=B(r,"cars"),i=R(o);if(a()(t).hasClass("buy__car__btn")){c.owner=a()('input[name="id"]').val(),c.buyDate=Q(),T(re,"cars");var s=i.filter((function(e){return e.name===a()('input[name="name"]').val()}))[0];s.car.push(c.id),n.elements.money.value-=c.price,a()('input[name="car"]').val(V(s.car,re)),s.money=parseInt(a()('input[name="money"]').val()),U("Congratulations! You bought ".concat(c.name,". Total price ").concat(c.price," $"),"alert-success"),T(i,o),Z(t),H()}if(a()(t).hasClass("sell__car__btn")){var u=i.filter((function(e){return e.name===a()('input[name="name"]').val()}))[0],l=0;u.car.forEach((function(e,r){e===c.id&&(c.owner="",c.buyDate="",u.car.splice(r,1),a()('input[name="car"]').val(V(u.car,re)),l=c.price-.3*c.price,n.elements.money.value=parseInt(a()('input[name="money"]').val())+c.price-.3*c.price,u.money=parseInt(a()('input[name="money"]').val()),Z(t),H())})),U("You sold ".concat(c.name,". Total price ").concat(l," $ (-30%)"),"alert-success"),T(re,"cars"),T(i,o)}}(e)})),a()(n).append(o,r).appendTo(t))}function Z(e){var t,n=_(document.querySelectorAll(".main-table-row"));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.contains(e)&&r.remove()}}catch(e){n.e(e)}finally{n.f()}}function U(e,t){var n=document.getElementById("modalMsg");n.querySelector(".modal-body").textContent=e;var r=E("Close","button",["btn","btn-secondary"]);switch(a()(r).attr(O({type:"button"},"data-dismiss","modal")).appendTo(".modal-footer"),t){case"alert-danger":n.querySelector(".modal-title").textContent="Alert",a()(".modal-header").addClass("alert-danger");break;case"alert-success":n.querySelector(".modal-title").textContent="Success!",a()(".modal-header").addClass("alert-success")}a()(n).modal("show"),a()(n).on("hidden.bs.modal",(function(){a()(".modal-header").removeClass("alert-danger"),a()(".modal-header").removeClass("alert-success"),a()(r).remove()}))}function J(e){var t,n=_(document.forms.mainForm.elements);try{for(n.s();!(t=n.n()).done;){var r=t.value;""!==r.value&&e&&a()(r).removeClass("error__input")}}catch(e){n.e(e)}finally{n.f()}}function G(e){a()(e).addClass("active")}function H(){var e,t=_(a()(".form__wrapper")[0].children);try{for(t.s();!(e=t.n()).done;){var n=e.value;a()(n).hasClass("tabel_car__wrapper")&&n.remove()}}catch(e){t.e(e)}finally{t.f()}}function V(e,t){var n=[];return e.forEach((function(e){var r=t.filter((function(t){return t.id===e}))[0];r&&n.push(r.name)})),n}function K(e){var t=[ne,ae],n=[Number(e)],r="";return t.forEach((function(e){var t=V(n,e).toString();t&&(r=t)})),r}function Q(){return s()().format("MMM Do YYYY, hh:mm a")}var X,ee,te,ne=x("persons")||[{id:1,date:"Mar 18th 2020, 12:12 pm",name:"Iron Man",age:30,money:5e4,car:[]},{id:2,date:"Mar 10th 2020, 10:10 pm",name:"Captain America",age:45,money:3e4,car:[]},{id:3,date:"Mar 23th 2019, 16:12 pm",name:"Star Lord",age:50,money:23e3,car:[]}],re=x("cars")||[{id:4,date:"Apr 10th 2019, 17:05 pm",name:"Audi A5",year:2015,price:1e4,owner:"",buyDate:""},{id:5,date:"Feb 16th 2020, 20:20 pm",name:"Porshe 911",year:2e3,price:15e3,owner:"",buyDate:""},{id:6,date:"Mar 18th 2020, 12:12 pm",name:"Lamborginy Huracan",year:2018,price:2e4,owner:"",buyDate:""}],ae=x("companies")||[{id:7,date:"Mar 18th 2020, 12:12",name:"Apple",money:25e4,workers:250,car:[]},{id:8,date:"Mar 18th 2020, 12:12",name:"Samsung",money:125e3,workers:150,car:[]},{id:9,date:"Mar 18th 2020, 12:12",name:"Google",money:3e5,workers:1e3,car:[]}],oe={persons:ne,cars:re,companies:ae},ce=document.createDocumentFragment(),ie=a()(".navigation")[0],se=a()(".table__wrapper")[0];X=E("Persons","button",["persons__btn","nav__btn","btn","btn-outline-primary"]),ee=E("Cars","button",["cars__btn","nav__btn","btn","btn-outline-primary"]),te=E("Companies","button",["company__btn","nav__btn","btn","btn-outline-primary"]),a()(ce).append(X,ee,te).appendTo(ie),a()(ie).click((function(e){return t=e.target,void Object.entries(oe).forEach((function(e){var n=k(e,2),r=n[0],o=n[1];a()(t).text().toLowerCase()===r&&(P(),function(){var e,t=_(ie.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;a()(n).hasClass("active")&&a()(n).removeClass("active")}}catch(e){t.e(e)}finally{t.f()}}(),G(t),a()(".main-table").remove(),z(o,r))}));var t})),z(ne,"persons"),G(ie.firstChild);var ue=a()(".main-data__wrapper")[0]}});